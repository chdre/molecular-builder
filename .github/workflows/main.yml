# This is a basic workflow to help you get started with Actions

name: build docs
on: 
  push:
    branches: 
      - master
  

jobs:
  docs:
    strategy: 
      matrix:
        python: [3.8]
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - name: install 
      run: | 
        cd docs && sudo pip3 install -r requirements.txt
    - name: build 
      run: | 
        cd docs && sphinx-build -b html . _build
    - name: Deploy
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./docs/_build/html
        force_orphan: true
